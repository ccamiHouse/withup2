---
globs: src/app/**/*.js
description: Next.js App Router 페이지 개발 패턴
---

# Next.js App Router 페이지 패턴

## 페이지 구조

```javascript
import Header from "@/components/Header";
import Footer from "@/components/Footer";

export const metadata = {
  title: "페이지 제목 - WithUp",
  description: "페이지 설명",
};

export default function PageName() {
  return (
    <>
      <Header />
      <main className="container mx-auto px-4 py-8">{/* 페이지 내용 */}</main>
      <Footer />
    </>
  );
}
```

## 동적 라우팅

```javascript
// [id]/page.js
export default function StudyDetail({ params }) {
  const { id } = params;

  return (
    <div>
      <h1>스터디 상세: {id}</h1>
    </div>
  );
}
```

## 서버 컴포넌트 vs 클라이언트 컴포넌트

- **기본**: 서버 컴포넌트 (SEO, 성능 최적화)
- **클라이언트 컴포넌트**: 상호작용이 필요한 경우에만 `'use client'` 사용
  - 상태 관리 (`useState`, `useEffect`)
  - 이벤트 핸들링
  - 브라우저 API 사용

## 메타데이터 관리

```javascript
export const metadata = {
  title: "스터디 찾기 - WithUp",
  description: "원하는 스터디를 찾아보세요",
  openGraph: {
    title: "WithUp - 스터디 모임 플랫폼",
    description: "스터디를 찾고 참여하세요",
  },
};
```

## 레이아웃 활용

- **루트 레이아웃**: [layout.js](mdc:src/app/layout.js)에서 전역 설정
- **중첩 레이아웃**: 특정 섹션별 레이아웃 필요시 활용

## 페이지별 역할

- **홈페이지** ([page.js](mdc:src/app/page.js)): 추천 스터디, 주요 기능 소개
- **스터디 목록** ([studies/page.js](mdc:src/app/studies/page.js)): 필터링, 검색
- **스터디 개설** ([studies/create/page.js](mdc:src/app/studies/create/page.js)): 스터디 생성 폼
- **스터디 상세** ([studies/[id]/page.js](mdc:src/app/studies/[id]/page.js)): 상세 정보, 참여
- **마이페이지** ([my-page/page.js](mdc:src/app/my-page/page.js)): 사용자 정보, 참여 스터디

## 데이터 페칭

- **서버 사이드**: `fetch` API 사용
- **클라이언트 사이드**: 추후 SWR/React Query 도입 고려

## 에러 처리

```javascript
// error.js 파일로 에러 바운더리 구현
"use client";

export default function Error({ error, reset }) {
  return (
    <div>
      <h2>문제가 발생했습니다!</h2>
      <button onClick={() => reset()}>다시 시도</button>
    </div>
  );
}
```

## 로딩 상태

```javascript
// loading.js 파일로 로딩 UI 구현
export default function Loading() {
  return <div>로딩 중...</div>;
}
```
